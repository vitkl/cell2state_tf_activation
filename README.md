# cell2state_tf_activation

## Introduction

This repository contains Python scripts and Jupyter Notebooks to analyse CRISPR activation data. It allows to assign perturbations to cell states and to identify DE genes, amongst them the immediate downstream targets of the perturbations.
## Setup

This project is based on code from [cell2location](https://github.com/BayraktarLab/cell2location/). Please follow the instructions there to install the required packages.
### Install

Run run_setup.sh to install the customised modules found in the src folder.

```bash
bash run_setup.sh
```
Replicate the environment using the environment.yml file.

```bash
pip install -r requirements.txt
```


### Repo Structure

Folder:
- /scripts 
    - Jupyter notebooks separated by type of analysis
    - /mk_reference_cellranger - contains bash scripts to create Cas9 and guide reference files
- /results
    - /figures - figures generated by Jupyter Notebooks
    - *.h5ad - adata created as intermediate files for reloading in analysis notebooks
- /data
    - /20230214_reference_sequences_KL - reference sequences to run cell ranger
    - /crispra_data_exploration - sequences mapped to double guide gRNA 
    - /transcription_factor_atlas - *.h5ad files with transcription factor activity data from [Transcription Factor Atlas](https://pubmed.ncbi.nlm.nih.gov/36608654/)
    - regev_lab_cel_cycle_genes.txt - list of genes associated with cell cycle from [Tirosh et al, 2015](https://www.science.org/doi/10.1126/science.aad0501)